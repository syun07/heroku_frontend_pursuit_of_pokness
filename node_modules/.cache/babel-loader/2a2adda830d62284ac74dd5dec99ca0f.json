{"ast":null,"code":"import _toConsumableArray from \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/src/App.js\";\nimport React, { Component } from 'react';\nimport WildPokemonMap from './containers/WildPokemonMap';\nimport UserConsole from './containers/UserConsole';\nimport OpeningPage from './containers/OpeningPage';\nimport LoadingPika from './containers/LoadingPika';\nimport { Segment } from 'semantic-ui-react';\nimport './App.css';\nvar API = 'https://shrouded-ravine-36412.herokuapp.com';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.renderRandomPoke = function () {\n      // KANTO //\n      var kantoNums = [];\n\n      for (var i = 1; i < 7; i++) {\n        kantoNums.push(Math.floor(Math.random() * 151 + 1));\n      }\n\n      var newKanto = [];\n      kantoNums.map(function (num) {\n        return newKanto.push(_this.state.kanto.find(function (poke) {\n          return poke.id === num;\n        }));\n      }); // JOHTO //\n\n      var johtoNums = [];\n\n      for (var j = 1; j < 7; j++) {\n        johtoNums.push(Math.floor(Math.random() * 100 + 152));\n      }\n\n      var newJohto = [];\n      johtoNums.map(function (num) {\n        return newJohto.push(_this.state.johto.find(function (poke) {\n          return poke.id === num;\n        }));\n      }); // HOENN //\n\n      var hoennNums = [];\n\n      for (var k = 1; k < 7; k++) {\n        hoennNums.push(Math.floor(Math.random() * 135 + 252));\n      }\n\n      var newHoenn = [];\n      hoennNums.map(function (num) {\n        return newHoenn.push(_this.state.hoenn.find(function (poke) {\n          return poke.id === num;\n        }));\n      }); // SINNOH //\n\n      var sinnohNums = [];\n\n      for (var s = 1; s < 7; s++) {\n        sinnohNums.push(Math.floor(Math.random() * 104 + 387));\n      }\n\n      var newSinnoh = [];\n      sinnohNums.map(function (num) {\n        return newSinnoh.push(_this.state.sinnoh.find(function (poke) {\n          return poke.id === num;\n        }));\n      }); // RANDO //\n\n      var randoNums = [];\n\n      for (var p = 1; p < 7; p++) {\n        randoNums.push(Math.floor(Math.random() * 490 + 1));\n      }\n\n      var newRando = [];\n      randoNums.map(function (num) {\n        return newRando.push(_this.state.allPokemon.find(function (poke) {\n          return poke.id === num;\n        }));\n      });\n\n      _this.setState({\n        kantoRand: newKanto,\n        johtoRand: newJohto,\n        hoennRand: newHoenn,\n        sinnohRand: newSinnoh,\n        randoRand: newRando,\n        renderMe: 'profile'\n      });\n    };\n\n    _this.handleLogin = function (event) {\n      event.preventDefault();\n\n      _this.getAuthToken({\n        name: _this.state.name,\n        password: _this.state.password\n      }).then(function (payload) {\n        if (payload.user) {\n          localStorage.setItem(\"token\", payload.jwt);\n\n          _this.setState({\n            enterPage: 'p'\n          });\n\n          return fetch(\"\".concat(API, \"/users/\").concat(payload.user.id.toString())).then(_this.finishLogin);\n        } else {\n          alert(\"INVALID LOGIN!\");\n        }\n      });\n    };\n\n    _this.finishLogin = function (res) {\n      res.json().then(function (data) {\n        setTimeout(function () {\n          _this.setState({\n            myPokemonList: data.pokemons,\n            filteredPoke: data.pokemons,\n            mainPoke: data.pokemons[0],\n            currentUser: data,\n            enterPage: 'a'\n          });\n        }, 3000);\n      });\n\n      _this.renderRandomPoke();\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleSignup = function (event) {\n      event.preventDefault();\n      return fetch(\"\".concat(API, \"/users\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: _this.state.newName,\n          password: _this.state.newPassword,\n          image: _this.state.newImage\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        if (res.errors) {\n          alert(\"Sorry, username has already been taken\");\n        } else {\n          _this.getAuthToken({\n            name: _this.state.newName,\n            password: _this.state.newPassword\n          }).then(function (payload) {\n            localStorage.setItem(\"token\", payload.jwt);\n\n            _this.setState({\n              enterPage: 'p'\n            });\n\n            return fetch(\"\".concat(API, \"/users/\").concat(payload.user.id.toString())).then(_this.finishLogin);\n          });\n        }\n      });\n    };\n\n    _this.handleDemo = function () {\n      _this.getAuthToken({\n        name: \"hello\",\n        password: \"world\"\n      }).then(function (payload) {\n        if (payload.user) {\n          localStorage.setItem(\"token\", payload.jwt);\n\n          _this.setState({\n            enterPage: 'p'\n          });\n\n          return fetch(\"\".concat(API, \"/users/\").concat(payload.user.id.toString())).then(_this.finishLogin);\n        }\n      });\n    };\n\n    _this.selectWildPoke = function (poke) {\n      _this.setState({\n        selectedPoke: poke,\n        wild: true,\n        renderMe: 'stats'\n      });\n    };\n\n    _this.selectMyPoke = function (poke) {\n      _this.setState({\n        selectedPoke: poke,\n        wild: false,\n        renderMe: 'stats'\n      });\n    };\n\n    _this.makeMain = function (poke) {\n      _this.setState({\n        renderMe: 'choose',\n        mainPoke: poke\n      });\n    };\n\n    _this.catchPoke = function () {\n      _this.setState({\n        renderMe: 'fight'\n      });\n    };\n\n    _this.pokeFate = function () {\n      var fate = Math.floor(Math.random() * 10 + 1);\n\n      if (fate <= 4) {\n        _this.renderRandomPoke();\n\n        _this.setState({\n          renderMe: 'success',\n          myPokemonList: [].concat(_toConsumableArray(_this.state.myPokemonList), [_this.state.selectedPoke]),\n          filteredPoke: [].concat(_toConsumableArray(_this.state.myPokemonList), [_this.state.selectedPoke])\n        });\n\n        _this.postPoke();\n      } else {\n        _this.renderRandomPoke();\n\n        _this.setState({\n          renderMe: 'fail'\n        });\n      }\n    };\n\n    _this.postPoke = function () {\n      var userpoke = {\n        user_id: _this.state.currentUser.id,\n        pokemon_id: _this.state.selectedPoke.id\n      };\n      fetch(\"\".concat(API, \"/poke_users\"), {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        },\n        body: JSON.stringify(userpoke)\n      });\n    };\n\n    _this.filterByRegion = function (event) {\n      var filtered = _this.state.myPokemonList.filter(function (pokemon) {\n        return pokemon.region === event.target.name;\n      });\n\n      event.target.name === 'all' ? _this.setState({\n        filteredPoke: _this.state.myPokemonList\n      }) : _this.setState({\n        filteredPoke: filtered\n      });\n    };\n\n    _this.reloadPage = function () {\n      _this.setState({\n        enterPage: 'o',\n        whichForm: 'b'\n      });\n\n      localStorage.clear();\n    };\n\n    _this.state = {\n      kanto: [],\n      johto: [],\n      hoenn: [],\n      sinnoh: [],\n      allPokemon: [],\n      kantoRand: [],\n      johtoRand: [],\n      hoennRand: [],\n      sinnohRand: [],\n      randoRand: [],\n      myPokemonList: [],\n      filteredPoke: [],\n      selectedPoke: null,\n      mainPoke: null,\n      wild: null,\n      enterPage: 'o',\n      renderMe: 'profile',\n      currentUser: null,\n      name: \"\",\n      password: \"\",\n      newName: \"\",\n      newPassword: \"\",\n      newImage: \"\",\n      load: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"\".concat(API, \"/pokemons\")).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        var k = data.filter(function (poke) {\n          return poke.region === 'kanto';\n        });\n        var j = data.filter(function (poke) {\n          return poke.region === 'johto';\n        });\n        var s = data.filter(function (poke) {\n          return poke.region === 'sinnoh';\n        });\n        var h = data.filter(function (poke) {\n          return poke.region === 'hoenn';\n        });\n\n        _this2.setState({\n          kanto: k,\n          johto: j,\n          sinnoh: s,\n          hoenn: h,\n          allPokemon: [].concat(_toConsumableArray(k), _toConsumableArray(j), _toConsumableArray(s), _toConsumableArray(h))\n        });\n      });\n    }\n  }, {\n    key: \"getAuthToken\",\n    value: function getAuthToken(loginInfo) {\n      return fetch(\"\".concat(API, \"/login\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(loginInfo)\n      }).then(function (res) {\n        return res.json();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pika = React.createElement(Segment, {\n        id: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \" \", React.createElement(LoadingPika, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }), \" \");\n      var application = React.createElement(Segment, {\n        id: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(WildPokemonMap, {\n        kantoRand: this.state.kantoRand,\n        johtoRand: this.state.johtoRand,\n        hoennRand: this.state.hoennRand,\n        sinnohRand: this.state.sinnohRand,\n        randoRand: this.state.randoRand,\n        renderRandomPoke: this.renderRandomPoke,\n        selectWildPoke: this.selectWildPoke,\n        reloadPage: this.reloadPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(UserConsole, {\n        selectedPoke: this.state.selectedPoke,\n        mainPoke: this.state.mainPoke,\n        selectMyPoke: this.selectMyPoke,\n        wild: this.state.wild,\n        renderMe: this.state.renderMe,\n        makeMain: this.makeMain,\n        catchPoke: this.catchPoke,\n        pokeFate: this.pokeFate,\n        currentUser: this.state.currentUser,\n        filterByRegion: this.filterByRegion,\n        filteredPoke: this.state.filteredPoke,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }));\n      var opening = React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(OpeningPage, {\n        handleLogin: this.handleLogin,\n        handleSignup: this.handleSignup,\n        handleChange: this.handleChange,\n        handleDemo: this.handleDemo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }));\n      var showMe;\n\n      if (this.state.enterPage === 'o') {\n        showMe = opening;\n      } else if (this.state.enterPage === 'a') {\n        showMe = application;\n      } else if (this.state.enterPage === 'p') {\n        showMe = pika;\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, showMe);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/vanessaprema/Development/mod4/mod4_project_pursuit_of_pokeness/heroku_frontend_pursuit_of_pokness/src/App.js"],"names":["React","Component","WildPokemonMap","UserConsole","OpeningPage","LoadingPika","Segment","API","App","renderRandomPoke","kantoNums","i","push","Math","floor","random","newKanto","map","num","state","kanto","find","poke","id","johtoNums","j","newJohto","johto","hoennNums","k","newHoenn","hoenn","sinnohNums","s","newSinnoh","sinnoh","randoNums","p","newRando","allPokemon","setState","kantoRand","johtoRand","hoennRand","sinnohRand","randoRand","renderMe","handleLogin","event","preventDefault","getAuthToken","name","password","then","payload","user","localStorage","setItem","jwt","enterPage","fetch","toString","finishLogin","alert","res","json","data","setTimeout","myPokemonList","pokemons","filteredPoke","mainPoke","currentUser","handleChange","target","value","handleSignup","method","headers","body","JSON","stringify","newName","newPassword","image","newImage","errors","handleDemo","selectWildPoke","selectedPoke","wild","selectMyPoke","makeMain","catchPoke","pokeFate","fate","postPoke","userpoke","user_id","pokemon_id","Accept","filterByRegion","filtered","filter","pokemon","region","reloadPage","whichForm","clear","load","h","loginInfo","pika","application","opening","showMe"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport WildPokemonMap from './containers/WildPokemonMap';\nimport UserConsole from './containers/UserConsole';\nimport OpeningPage from './containers/OpeningPage';\nimport LoadingPika from './containers/LoadingPika';\nimport { Segment } from 'semantic-ui-react';\nimport './App.css';\n\nconst API = 'https://shrouded-ravine-36412.herokuapp.com';\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.state = {\n\t\t\tkanto: [],\n\t\t\tjohto: [],\n\t\t\thoenn: [],\n\t\t\tsinnoh: [],\n\t\t\tallPokemon: [],\n\t\t\tkantoRand: [],\n\t\t\tjohtoRand: [],\n\t\t\thoennRand: [],\n\t\t\tsinnohRand: [],\n\t\t\trandoRand: [],\n\t\t\tmyPokemonList: [],\n\t\t\tfilteredPoke: [],\n\t\t\tselectedPoke: null,\n\t\t\tmainPoke: null,\n\t\t\twild: null,\n\t\t\tenterPage: 'o',\n\t\t\trenderMe: 'profile',\n\t\t\tcurrentUser: null,\n\t\t\tname: \"\",\n\t\t\tpassword: \"\",\n\t\t\tnewName: \"\",\n\t\t\tnewPassword: \"\",\n\t\t\tnewImage: \"\",\n\t\t\tload: false\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch(`${API}/pokemons`)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tlet k = data.filter(poke => poke.region === 'kanto')\n\t\t\tlet j = data.filter(poke => poke.region === 'johto')\n\t\t\tlet s = data.filter(poke => poke.region === 'sinnoh')\n\t\t\tlet h = data.filter(poke => poke.region === 'hoenn')\n\n\t\t\tthis.setState({\n\t\t\t\tkanto: k,\n\t\t\t\tjohto: j,\n\t\t\t\tsinnoh: s,\n\t\t\t\thoenn: h,\n\t\t\t\tallPokemon: [...k, ...j, ...s, ...h]\n\t\t\t})\n\t\t})\n\t}\n\n\n\trenderRandomPoke = () => {\n\n\t\t// KANTO //\n\t\tlet kantoNums = []\n\t\tfor (let i = 1; i < 7; i++) {\n\t\t\tkantoNums.push(Math.floor((Math.random() * 151) + 1))\n\t\t}\n        \n\t\tlet newKanto = []\n\t\tkantoNums.map(num =>\n\t\t\tnewKanto.push(this.state.kanto.find(poke => poke.id === num))\n\t\t)\n\t\t\n\t\t// JOHTO //\n\t\tlet johtoNums = []\n\t\tfor (let j = 1; j < 7; j++) {\n\t\t\tjohtoNums.push(Math.floor((Math.random() * 100) + 152))\n\t\t}\n        \n\t\tlet newJohto = []\n\t\tjohtoNums.map(num =>\n\t\t\tnewJohto.push(this.state.johto.find(poke => poke.id === num))\n\t\t)\n\n\t\t// HOENN //\n\t\tlet hoennNums = []\n\t\tfor (let k = 1; k < 7; k++) {\n\t\t\thoennNums.push(Math.floor((Math.random() * 135) + 252))\n\t\t}\n    \n\t\tlet newHoenn = []\n\t\thoennNums.map(num =>\n\t\t\tnewHoenn.push(this.state.hoenn.find(poke => poke.id === num))\n\t\t)\n\t\t\n\t\t// SINNOH //\n\t\tlet sinnohNums = []\n\t\tfor (let s = 1; s < 7; s++) {\n\t\t\tsinnohNums.push(Math.floor((Math.random() * 104) + 387))\n\t\t}\n        \n\t\tlet newSinnoh = []\n\t\tsinnohNums.map(num =>\n\t\t\tnewSinnoh.push(this.state.sinnoh.find(poke => poke.id === num))\n\t\t)\n\n\t\t// RANDO //\n\t\tlet randoNums = []\n\t\tfor (let p = 1; p < 7; p++) {\n\t\t\trandoNums.push(Math.floor((Math.random() * 490) + 1))\n\t\t}\n\t\t\n\t\tlet newRando = []\n\t\trandoNums.map(num =>\n\t\t\tnewRando.push(this.state.allPokemon.find(poke => poke.id === num))\n\t\t)\n\n\t\tthis.setState({\n\t\t\tkantoRand: newKanto,\n\t\t\tjohtoRand: newJohto,\n\t\t\thoennRand: newHoenn,\n\t\t\tsinnohRand: newSinnoh,\n\t\t\trandoRand: newRando,\n\t\t\trenderMe: 'profile'\n\t\t})\n\t}\n\t\n\thandleLogin = event => {\n\t\tevent.preventDefault();\n\t\tthis.getAuthToken({ name: this.state.name, password: this.state.password }).then(payload => {\n\t\t\tif (payload.user) {\n\t\t\t\tlocalStorage.setItem(\"token\", payload.jwt)\n\t\t\t\tthis.setState({\n\t\t\t\t\tenterPage: 'p'\n\t\t\t\t})\n\t\t\t\treturn fetch(`${API}/users/${payload.user.id.toString()}`).then(this.finishLogin)\n\t\t\t} else {\n\t\t\t\talert(\"INVALID LOGIN!\")\n\t\t\t}\n\t\t})\n\t} \n\n\tgetAuthToken(loginInfo) {\n\t\treturn fetch(`${API}/login`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify(loginInfo)\n\t\t}).then(res => res.json())\n\t}\n\n\tfinishLogin = (res) => {\n\t\tres.json()\n\t\t.then(data => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tmyPokemonList: data.pokemons,\n\t\t\t\t\tfilteredPoke: data.pokemons,\n\t\t\t\t\tmainPoke: data.pokemons[0],\n\t\t\t\t\tcurrentUser: data,\n\t\t\t\t\tenterPage: 'a'\n\t\t\t\t})\n\t\t\t}, 3000)\n\t\t})\n\t\tthis.renderRandomPoke()\n\t}\n\t\n\thandleChange = event => {\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n\t}\n\n\thandleSignup = event => {\n\t\tevent.preventDefault();\n\t\treturn fetch(`${API}/users`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: this.state.newName,\n\t\t\t\tpassword: this.state.newPassword,\n\t\t\t\timage: this.state.newImage\n\t\t\t})\n\t\t}).then(res => res.json())\n\t\t.then(res => {\n\t\t\tif (res.errors) {\n\t\t\t\talert(\"Sorry, username has already been taken\") \n\t\t\t} else {\n\t\t\t\tthis.getAuthToken({ name: this.state.newName, password: this.state.newPassword })\n\t\t\t\t.then(payload => {\n\t\t\t\t\tlocalStorage.setItem(\"token\", payload.jwt)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tenterPage: 'p'\n\t\t\t\t\t})\n\t\t\t\t\treturn fetch(`${API}/users/${payload.user.id.toString()}`)\n\t\t\t\t\t.then(this.finishLogin)\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t} \n\n\thandleDemo = () => {\n\t\tthis.getAuthToken({ name: \"hello\", password: \"world\" }).then(payload => {\n\t\t\tif (payload.user) {\n\t\t\t\tlocalStorage.setItem(\"token\", payload.jwt)\n\t\t\t\tthis.setState({\n\t\t\t\t\tenterPage: 'p'\n\t\t\t\t})\n\t\t\t\treturn fetch(`${API}/users/${payload.user.id.toString()}`).then(this.finishLogin)\n\t\t\t}\n\t\t})\n\t}\n\n\tselectWildPoke = (poke) => {\n\t\tthis.setState({\n\t\t\tselectedPoke: poke,\n\t\t\twild: true,\n\t\t\trenderMe: 'stats'\n\t\t})\n\t}\n\n\tselectMyPoke = (poke) => {\n\t\tthis.setState({\n\t\t\tselectedPoke: poke,\n\t\t\twild: false,\n\t\t\trenderMe: 'stats'\n\t\t})\n\t}\n\n\tmakeMain = (poke) => {\n\t\tthis.setState({\n\t\t\trenderMe: 'choose',\n\t\t\tmainPoke: poke\n\t\t})\n\t}\n\n\tcatchPoke = () => {\n\t\tthis.setState({\n\t\t\trenderMe: 'fight'\n\t\t})\n\t}\n\n\tpokeFate = () => {\n\t\tlet fate = Math.floor((Math.random() * 10) + 1)\n\t\tif (fate <= 4) {\n\t\t\tthis.renderRandomPoke()\n\t\t\tthis.setState({\n\t\t\t\trenderMe: 'success',\n\t\t\t\tmyPokemonList: [...this.state.myPokemonList, this.state.selectedPoke],\n\t\t\t\tfilteredPoke: [...this.state.myPokemonList, this.state.selectedPoke]\n\t\t\t})\n\t\t\tthis.postPoke()\n\t\t} else {\n\t\t\tthis.renderRandomPoke()\n\t\t\tthis.setState({\n\t\t\t\trenderMe: 'fail'\n\t\t\t})\n\t\t}\n\t} \n\n\tpostPoke = () => {\n\t\tlet userpoke = {user_id: this.state.currentUser.id, pokemon_id: this.state.selectedPoke.id}\n\t\tfetch(`${API}/poke_users`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\tAccept: 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(userpoke)\n\t\t})\n\t}\n\n\tfilterByRegion = event => {\n\t\tconst filtered = this.state.myPokemonList.filter(pokemon => pokemon.region === event.target.name)\n\t\tevent.target.name === 'all' ? this.setState({filteredPoke: this.state.myPokemonList}) : this.setState({filteredPoke: filtered})\n\t}\n\n\treloadPage = () => {\n\t\tthis.setState({enterPage: 'o', whichForm: 'b'})\n\t\tlocalStorage.clear()\n\t}\n\n\trender() {\n\t\tconst pika = <Segment id=\"app\"> <LoadingPika /> </Segment>\n\n\t\tconst application =\n\t\t\t<Segment id=\"app\">\n\t\t\t\t<WildPokemonMap\n\t\t\t\t\tkantoRand={this.state.kantoRand}\n\t\t\t\t\tjohtoRand={this.state.johtoRand}\n\t\t\t\t\thoennRand={this.state.hoennRand}\n\t\t\t\t\tsinnohRand={this.state.sinnohRand}\n\t\t\t\t\trandoRand={this.state.randoRand}\n\t\t\t\t\trenderRandomPoke={this.renderRandomPoke}\n\t\t\t\t\tselectWildPoke={this.selectWildPoke}\n\t\t\t\t\treloadPage={this.reloadPage} />\n\t\t\t\t<UserConsole\n\t\t\t\t\tselectedPoke={this.state.selectedPoke}\n\t\t\t\t\tmainPoke={this.state.mainPoke}\n\t\t\t\t\tselectMyPoke={this.selectMyPoke}\n\t\t\t\t\twild={this.state.wild}\n\t\t\t\t\trenderMe={this.state.renderMe}\n\t\t\t\t\tmakeMain={this.makeMain}\n\t\t\t\t\tcatchPoke={this.catchPoke}\n\t\t\t\t\tpokeFate={this.pokeFate}\n\t\t\t\t\tcurrentUser={this.state.currentUser}\n\t\t\t\t\tfilterByRegion={this.filterByRegion}\n\t\t\t\t\tfilteredPoke={this.state.filteredPoke} />\n\t\t\t</Segment>\n\t\t\t\n\t\tconst opening = \n\t\t\t<Segment>\n\t\t\t\t<OpeningPage\n\t\t\t\t\thandleLogin={this.handleLogin}\n\t\t\t\t\thandleSignup={this.handleSignup}\n\t\t\t\t\thandleChange={this.handleChange}\n\t\t\t\t\thandleDemo={this.handleDemo} />\n\t\t\t</Segment>\n\t\t\n\t\tlet showMe \n\t\t\n\t\tif (this.state.enterPage === 'o') {\n\t\t\tshowMe = opening \n\t\t} else if (this.state.enterPage === 'a') {\n\t\t\tshowMe = application\n\t\t} else if (this.state.enterPage === 'p') {\n\t\t\tshowMe = pika\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{showMe}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}